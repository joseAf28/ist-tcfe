*
* NGSPICE simulation script
*

* forces current values to be saved
.options savecurrents

*voltage source
Vs 1 0 0.0 ac 1.0 sin(0 1.0 1k)
Vsource 0 9 0.0

*initial conditions
.ic v(6)= 8.768729 v(8)= 0


*Resistances
R1 1 2 1.04408633697k
R2 2 3 2.04051610808k
R3 2 5 3.07566747417k
R4 0 5 4.05936218175k
R5 5 6 3.05878343538k
R6 9 7 2.0603640429k
R7 7 8 1.04299566201k 

*capacitor
C 6 8 1.02590436129u

* Linear Voltage-Controlled Current Source
Gib 6 3 2 5 7.2865951329m

* Linear Current-Controlled Voltage Source
Hvc 5 8 Vsource 8.22752594192k

.op

.end

.control

set hcopypscolor=0
set color0=white
set color1=black
set color2=red
set color3=blue
set color4=violet
set color5=rgb:3/8/0
set color6=rgb:4/0/0


op

echo "********************************************"
echo  "Transient analysis"
echo "********************************************"
tran 1e-5 20e-3

hardcopy solution.ps v(6) v(1)
echo trans_FIG

echo "********************************************"
echo  "Frequency analysis"
echo "********************************************"

ac dec 100 0.1 1MEG

hardcopy acm.ps db(v(6)) db(v(1))
echo acm_FIG

hardcopy acp.ps phase(v(6)) phase(v(1))
echo acp_FIG


quit
.endc

.end

*alinea 2




