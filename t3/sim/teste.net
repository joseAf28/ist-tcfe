*
* Low-Pass Filter + Limiter
*

* forces current values to be saved
.options savecurrents

******************************************
* input voltage source
vS 0 1 0.0 sin(0 14 50)
* vS 1 0 0 sin(0 5 400)

* passa-alto ordem 1 a entrada 
Ci 2 3 5u
Ri 2 3 10k

* positive limiter
Dp1 0 3 Default
Dp2 2 1 Default
Dp3 1 3 Default
Dp4 2 0 Default

*pre source v(3) -v(2)

R2 3 4 100k

Dp4 4 5 Default
Dp5 5 6 Default
Dp6 6 7 Default
Dp7 7 8 Default
Dp8 8 2 Default

.model Default D
.op
.end

.control

******************************************
* analise no tempo
tran 5e-4 100e-3
* tran 1e-5 10e-3

*plot v(3)-v(2) v(1)

******************************************
hardcopy solution1.ps v(3)-v(2)
echo solution_FIG
* hardcopy vospice400.ps v(1) v(2)

.endc
*
* Low-Pass Filter + Limiter
*

* forces current values to be saved
.options savecurrents

******************************************
* input voltage source
vS 1 0 0.0 sin(0 14 50)
* vS 1 0 0 sin(0 5 400)

* passa-alto ordem 1 a entrada 
Ci 2 0 5u
Ri 2 0 10k

* positive limiter
Dp1 1 2 Default

*pre source v(3) -v(2)

R2 2 3 100k

Dp4 3 4 Default
Dp5 4 5 Default
Dp6 5 0 Default


.model Default D
.op
.end

.control

******************************************
* analise no tempo
tran 100e-4 10e-3
* tran 1e-5 10e-3

plot v(3)-v(0)

******************************************
hardcopy solutionteste.ps v(3)-v(0)
echo solution_FIG
* hardcopy vospice400.ps v(1) v(2)

.endc
